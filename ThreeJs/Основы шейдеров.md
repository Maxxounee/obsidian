- [[#Угловой шаг|Угловой шаг]]
- [[#**Как считается индекс ближайшего сегмента?**|**Как считается индекс ближайшего сегмента?**]]
- [[#Матрица поворота|Матрица поворота]]
- [[#Матрица поворота#Основы матриц поворота|Основы матриц поворота]]
	- [[#Основы матриц поворота#2D поворот|2D поворот]]
	- [[#Основы матриц поворота#3D поворот|3D поворот]]




gl_FragColor - Зарезервированная переменная цвета
dot() - скалярное произведение векторов

`Полярная система координат` - способ представления точек на плоскости с помощью двух чисел: расстояния и угла.

`Декартова система координат` - способ представления точек с помощью пары чисел (x, y) для описания пололожения точки

### Угловой шаг

**Угловой шаг** — это угол, на который нужно повернуться, чтобы перейти от одной вершины правильного многоугольника к следующей. Он определяется как полный угол (360° или 2π2π радиан), деленный на количество сторон многоугольника.


### **Как считается индекс ближайшего сегмента?**

Для заданного угла aa (в радианах) индекс ближайшего сегмента вычисляется по формуле:

``` 
- a — текущий угол,
    
- r — угловой шаг,

i = floor(a / r)
```
В математике **понятие "индекс ближайшего сегмента"** явно не используется как стандартный термин, но сама идея активно применяется в задачах, связанных с разбиением окружности или пространства на сектора (сегменты). Например, это используется в вычислительной геометрии, компьютерной графике, обработке сигналов и других областях.

Добавление 0.5 перед округлением позволяет корректно распределить границы сегментов. Это особенно полезно, когда нужно, чтобы границы сегментов находились точно посередине между вершинами.

``` 
i = floor(0.5 + a / r)
```


## Матрица поворота

Матрицы поворота — это математические инструменты, используемые для выполнения вращения точек или объектов в пространстве. В компьютерной графике, включая GLSL (OpenGL Shading Language), матрицы поворота широко применяются для трансформации объектов в 2D и 3D пространствах.

### Основы матриц поворота

Матрица поворота — это квадратная матрица, которая умножается на вектор координат точки, чтобы повернуть её вокруг начала координат на определённый угол. В зависимости от размерности пространства, матрицы поворота могут быть 2x2, 3x3 или 4x4.

#### 2D поворот

В двумерном пространстве матрица поворота на угол θ (в радианах) вокруг начала координат выглядит следующим образом:

![[./assets/Pasted image 20250323155026.png]]
Для поворота точки (x, y)(x ,y) на угол θ, её координаты умножаются на эту матрицу:

![[./assets/Pasted image 20250323155234.png]]

```c
mat2 rotate2d(float _angle){ 
return mat2(
		 cos(_angle), -sin(_angle), 
		 sin(_angle), cos(_angle)
	 ); 
 }
```


#### 3D поворот

В трёхмерном пространстве вращение может происходить вокруг одной из трёх осей: X, Y или Z. Матрицы поворота для каждой оси выглядят следующим образом:

![[./assets/Pasted image 20250323155319.png]]

## Масштабирование

Масштабирование — это одна из основных операций в компьютерной графике, которая позволяет изменять размер объекта. В GLSL (OpenGL Shading Language) масштабирование, как и другие трансформации (поворот, перенос), выполняется с использованием матриц. Матрица масштабирования умножается на координаты вершин объекта, чтобы изменить их размер вдоль осей X, Y и Z.

### Матрица масштабирования в 2D

В 2D-пространстве матрица масштабирования выглядит следующим образом:

![[./assets/Pasted image 20250323160130.png]]

Следуя этой формуле, можно сконструировать двумерную матрицу масштабирования.

```c
mat2 scale(vec2 _scale){ 
	return mat2(
		_scale.x, 0.0,
		0.0, _scale.y
	); 
}
```