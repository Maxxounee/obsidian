
## Создание матриц (многомерных массивов)

```python
# Одномерный массив
np.arange(6)
''' [0, 1, 2, 3, 4, 5] '''
# Двумерный массив
np.arange(20).reshape(4, 5) # 4 строки, 5 столбцов (читать как 4 элемента на первой оси, 5 элементов на второй оси)
'''
array([
	[0, 1, 2, 3, 4],
	[5, 6, 7, 8, 9],
	[10, 11, 12, 13, 14],
	[15, 16, 17, 18, 19],
])
'''
# трехмерный массив (3 элемента на первой оси, 2 элемента на второй, 2 элемента на третьей)
np.arange(12).reshape(3, 2, 2);
'''
array([
	[ [0, 1], [2, 3] ],
	[ [4, 5], [6, 7] ],
	[ [8, 9], [10, 11] ],
])
'''

```

## Свойства

```python
np_array = np.array([[1, 2, 3], [2, 3, 4], [3, 4, 5]])
 # Количество осей
np_array.ndim # 2

# Количество элементов
np_array.size # 9

# Количество элементом по осям
np_array.shape # (3, 3) 
# изменение представления массива
np_array = 9, 1 # [[1], [2], [3], [4], ...]

# тип данных массива
np_array.dtype # int32
# Изменение типа данных. Изначально данные были представлены типом int32 и под каждый элемент массива было выделено 4 байта памяти. При изменении на int8, количество выделенной памяти осталось неизменным, поэтому неиспользованная память заполняется нулями. При таком изменении не происходит потери данных и мы можем поменять int8 на int32 обратно.
np_array,dtype = np.int8 # [[1, 0, 0, 0], [2, 0, 0, 0], ...]


```

## Методы создания массивов

### np.empty

```python
# создание массива с неопределенными значениями. Работает быстрее всех остальных методов
np.empty(7)
''' array([2.0985439e-322m 0.000000e+000, 0.99999+000, ...]) '''
# Массив с 3 элементами на первой оси, 2 на второй и одним на третьей
np.empty([3, 2, 1])
# Указание типов данных
np.empty([3, 2, 1], dtype=np.int8)
```

### np.ones | np.zeros | np.full

```python
# Создание матрицы, заполненной единицами
np.ones([3, 2, 2])

# Вернет массив из единиц такого же размера, как переданный np_array
np.ones_like(np_array)

# Матрица, заполненная нулями
np.zeros([3, 2, 2])

# Вернет массив из нулей такого же размера, как переданный np_array
np.zeros_like(np_array)

# Создание матрицы, заполненной N элементами
np.full([3, 2, 2], 7)

# Вернет массив из N-элементов такого же размера, как переданный np_array
np.zeros_like(np_array, 7)
```

## Массивы из числовых диапазонов

```python
# Одномерный массив [0, 1, ..., 5, 6]
np.arrange(7)

# Одномерный массив [7, 8, 9, 10, ..., 16]
np.arrange(7, 17)

# Одномерный массив с шагом [7, 10, 13, 16]
np.arrange(7, 17, 3)

```

## Создание матриц

```python
# Создание матрицы (двумерный массив)
np.mat([1, 2, 3, 4, 5]) # matrix([[1, 2, 3, 4, 5]])

np.mat([[1, 2, 3], [4, 5, 6]]) # matrix([[1, 2, 3], [4, 5, 6]])

# Создание диагональной матрицы
np.diag([1, 2, 3, 4, 5])
'''
array([
	[1, 0, 0, 0, 0],
	[0, 2, 0, 0, 0],
	[0, 0, 3, 0, 0],
	[0, 0, 0, 4, 0],
	[0, 0, 0, 0, 5],
])
'''

# Если передать матрицу, то вернет значения, лежащие на главной диагонали массива
np.diag(np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])) # [1, 5, 9]

# Превращение даже двумерного массива в диагональную матрицу
np.diagflat(np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]]))
'''
array([
	[1, 0, 0, 0, 0, 0, 0, 0, 0],
	[0, 2, 0, 0, 0, 0, 0, 0, 0],
	[0, 0, 3, 0, 0, 0, 0, 0, 0],
	[0, 0, 0, 4, 0, 0, 0, 0, 0],
	[0, 0, 0, 0, 5, 0, 0, 0, 0],
	[0, 0, 0, 0, 0, 6, 0, 0, 0],
	[0, 0, 0, 0, 0, 0, 7, 0, 0],
	[0, 0, 0, 0, 0, 0, 0, 8, 0],
	[0, 0, 0, 0, 0, 0, 0, 0, 9],
])
'''

# Вернет двумерный массив 4х4, где на главной диагонали расположены единицы
np.eye(4)
'''
np.array([
	[1, 0, 0, 0],
	[0, 1, 0, 0],
	[0, 0, 1, 0],
	[0, 0, 0, 1],
])
'''

# Вернет двумерный массив 4х5, где на главной диагонали расположены единицы
np.eye(4, 5)

# Работает как np.eye с одним аргументом
np.identity(5)

# Вернет нижнетреугольную матрицу 7x7
np.tri(7)
'''
np.array([
	[1, 0, 0, 0, 0, 0, 0],
	[1, 1, 0, 0, 0, 0, 0],
	[1, 1, 1, 0, 0, 0, 0],
	[1, 1, 1, 1, 0, 0, 0],
	[1, 1, 1, 1, 1, 0, 0],
	[1, 1, 1, 1, 1, 1, 0],
	[1, 1, 1, 1, 1, 1, 1],
])
'''

# Вернет нижнетреугольную матрицу 7x5
np.tri(7, 5)

# Вернет нежнетреугольную матрицу на основе переданной матрицы
np.tril(np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]]))
'''
array([
	[1, 0, 0],
	[4, 5, 0],
	[7, 8, 9]
])
'''

# Вернет нижнетреугольную матрицу на основе массива
np.tril([7, 8, 9])
'''
array([
	[7, 0, 0],
	[7, 8, 0],
	[7, 8, 9],
])
'''

# Аналогичная функция для верхнетреугольной матрицы
np.triu(7, 5)
np.triu(np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]]))
np.triu([7, 8, 9])

```

## Изменение формы массивов

### shape

```python
np_array = np.array([[1, 2, 3, 4], [2, 3, 4, 5], [3, 4, 5, 6]])

np_array.shape = 12
''' array([1, 2, 3, 4, 2, 3, 4, 5, 3, 4, 5, 6]) '''

np_array.shape = (2, 6)
''' array([[1, 2, 3, 4, 2, 3], [4, 5, 3, 4, 5, 6]]) '''

# Автоматический расчет элементов
np_array.shape = (4, -1) # 4 элемента на нулевой оси. В остальных - автоматически
''' array([[1, 2, 3], [3, 4, 5], [4, 5, 6], [5, 6, 7]]) '''

```
### reshape

Важно понимать, что np_array и модифицированный через reshape, используют ссылку на один и тот же массив, поэтому изменение исходных данных повлечет и изменение модифицированных

```python
np_array = np.array([[1, 2, 3, 4], [2, 3, 4, 5], [3, 4, 5, 6]])

np_array.reshape([2, 2, 3], end='\n\n\n')
'''
array([
	[
		[1, 2, 3],
		[4, 2, 3],
	],
	[
		[4, 5, 3],
		[4, 5, 6],
	],
])
'''
```

### resize
Методы shape и reshape должны сохранять изначальное количество элементов.
Resize же позволяет изменять представление матрицы

```python
np_array = np.array([[1, 2, 3, 4], [2, 3, 4, 5], [3, 4, 5, 6]])

# Тут как в shape, никаких отличий
np_array.resize((2, 6))
''' array([[1, 2, 3, 4, 2, 3], [4, 5, 3, 4, 5, 6]]) '''

# Если хотим получить количество элементов, отличающееся от изначального, то необходимо передать аругмент refcheck=False. При превышении количества элементов относительно оригинального массива, недостающие элементы будут заполнены нулями
np_array.resize((4, 2), refcheck=False)

'''
array([
	[1, 2],
	[3, 4],
	[2, 3],
	[4, 5]
])
'''
np_array.resize((4, 4), refcheck=False)
'''
array([
	[1, 2, 3, 4],
	[2, 3, 4, 5],
	[3, 4, 5, 6],
	[0, 0, 0, 0]
])
'''
```

### ravel

```python
np_array = np.array([[1, 2, 3, 4], [2, 3, 4, 5], [3, 4, 5, 6]])

# Представление в виде одномерного массива
np_array.ravel()
''' array([1, 2, 3, 4, 2, 3, 4, 5, 3, 4, 5, 6]) '''

```